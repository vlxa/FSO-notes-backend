(this["webpackJsonpsection-code"]=this["webpackJsonpsection-code"]||[]).push([[0],{44:function(t,n,e){},45:function(t,n,e){"use strict";e.r(n);var o=e(19),c=e.n(o),r=e(2),a=e(10),i=e(20),u=e(4),s=e(0),f=function(t){var n=t.aNote,e=t.toggleImportance,o=n.important?"make not important":"make important";return Object(s.jsxs)("li",{className:"note",style:{color:n.important?"black":"grey"},children:[n.content,Object(s.jsx)("button",{onClick:e,children:o})," "]})},d=function(t){var n=t.message,e=0;return n.length>0&&(e=1),Object(s.jsx)("div",{className:"notification",style:{opacity:e,color:"error"===n[1]?"red ":"green"},children:n[0]})},m=e(8),l=e.n(m),j="/api/notes",p=function(){return l.a.get(j).then((function(t){return t.data}))},b=function(t){return l.a.post(j,t).then((function(t){return t.data}))},O=function(t,n){return l.a.put("".concat(j,"/").concat(t),n).then((function(t){return t.data}))},h=function(){var t=Object(r.useState)([]),n=Object(u.a)(t,2),e=n[0],o=n[1],c=Object(r.useState)(""),m=Object(u.a)(c,2),l=m[0],j=m[1],h=Object(r.useState)(!0),v=Object(u.a)(h,2),g=v[0],x=v[1],T=Object(r.useState)([]),y=Object(u.a)(T,2),S=y[0],w=y[1];Object(r.useEffect)((function(){document.title="Notes"}),[]),Object(r.useEffect)((function(){p().then((function(t){o(t)}))}),[]);var N=g?e:e.filter((function(t){return t.important}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Notes"}),Object(s.jsx)(d,{message:S}),Object(s.jsx)("ul",{children:N.map((function(t){return Object(s.jsx)(f,{aNote:t,toggleImportance:function(){return function(t){var n=e.find((function(n){return n.id===t})),c=Object(a.a)(Object(a.a)({},n),{},{important:!n.important});O(t,c).then((function(r){o(e.map((function(n){return n.id!==t?n:r}))),w(['"'.concat(n.content,'"is now ').concat(c.important?"important":"not important"),"info"]),setTimeout((function(){w([])}),2e3)})).catch((function(c){w(['Note "'.concat(n.content,'" was already removed from server'),"error"]),console.log(c),setTimeout((function(){w([])}),2e3),o(e.filter((function(n){return n.id!==t})))}))}(t.id)}},t.id)}))}),Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={content:l,date:(new Date).toISOString(),important:Math.random()<.5};b(n).then((function(t){o([].concat(Object(i.a)(e),[t])),j(""),w(['Adeed "'.concat(l,'"'),"info"]),setTimeout((function(){w([])}),2e3)}))},children:[Object(s.jsx)("input",{type:"text",value:l,placeholder:"New note...",onChange:function(t){t.preventDefault(),j(t.target.value)}}),Object(s.jsx)("button",{type:"submit",children:"submit"})]}),Object(s.jsxs)("button",{onClick:function(){return x(!g)},children:["Show ",g?"important":"All"]})]})};e(44);c.a.render(Object(s.jsx)(h,{notes:[{id:1,content:"HTML is easy",date:"2019-05-30T17:30:31.098Z",important:!0},{id:2,content:"Browser can execute only JavaScript",date:"2019-05-30T18:39:34.091Z",important:!1},{id:3,content:"GET and POST are the most important methods of HTTP protocol",date:"2019-05-30T19:20:14.298Z",important:!0}]}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.edb8a3b4.chunk.js.map